{"ast":null,"code":"import _defineProperty from \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/maiuranloganathan/DevelopProjects/jefa-game/client/src/components/Add.js\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  font-weight: 200;\\n  font-size: 15px;\\n  border-radius: 6px;\\n  padding: 0.5rem 5px;\\n  margin: 0.5rem 1rem;\\n  width: fit-content;\\n  background: white;\\n  color: black;\\n  /* border: 1px solid black; */\\n  position: relative;\\n\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  font-weight: 300;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 16px;\\n  font-weight: 200;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  /* width: 100%; */\\n  border-radius: 5px;\\n  padding: 8px 10px;\\n  margin: 8px 0px;\\n  width: 40%;\\n  margin-left: 26%;\\n  /* box-sizing: border-box; */\\n  &:focus{\\n    background-color: white;\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 0;\\n    padding: 0;\\n  margin: 0 auto;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 10px;\\n  padding-left: 35%; \\n  margin: 0 auto;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 10px;\\n  float:  center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  /* display: inline-block; */\\n  border-radius: 3px;\\n  padding: 0.5rem 5px;\\n  margin: 0.5rem 1rem;\\n  width: fit-content;\\n  background: #2d3142;\\n  color: black;\\n  border: 1px solid black;\\n  position: relative;\\n  /* right: -250px; */\\n  float: left;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport cogoToast from 'cogo-toast';\nimport Modal from 'react-modal';\nimport Recaptcha from 'react-google-invisible-recaptcha';\nexport var Button = styled.button(_templateObject());\nvar Form = styled.form(_templateObject2());\nvar FormTitle = styled.h2(_templateObject3());\nvar Container = styled.div(_templateObject4());\nvar Input = styled.input(_templateObject5());\nvar InputText = styled.input(_templateObject6());\nvar Extension = styled.div(_templateObject7());\nvar Ex = styled.p(_templateObject8());\nvar Base = styled.h3(_templateObject9());\nvar Submit = styled.button(_templateObject10());\nvar modalStyle = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nModal.setAppElement('#root');\nexport var Add = /*#__PURE__*/function (_Component) {\n  _inherits(Add, _Component);\n\n  function Add() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Add);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Add)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: '',\n      rank: '',\n      firstname: '',\n      lastname: '',\n      referralCode: '',\n      referralSource: '',\n      referrerReferralCode: '',\n      referrerEmail: '',\n      referralCountTotal: 0,\n      postCountTotal: 0,\n      shareURL: '',\n      twitterShareURL: '',\n      facebookShareURL: '',\n      whatsappShareURL: '',\n      modalIsOpen: false,\n      messageSent: false\n    };\n\n    _this.handleChange = function (_ref) {\n      var target = _ref.target;\n      var name = target.name,\n          value = target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.setOpen = function (param) {\n      _this.setState({\n        modalIsOpen: param\n      });\n    };\n\n    _this.sendMessage = function () {\n      _this.recaptcha.execute();\n    };\n\n    _this.onResolved = function () {\n      _this.setState({\n        messageSent: true\n      }); // Process Data //\n\n\n      console.log(_this.state);\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var re = /^[ ]*([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})[ ]*$/i;\n\n      if (re.test(_this.state.email) && _this.state.isHuman) {\n        var payload = {\n          email: _this.state.email,\n          rank: _this.state.rank,\n          firstname: _this.state.firstname,\n          lastname: _this.state.lastname,\n          referralCode: _this.state.referralCode,\n          referralSource: _this.state.referralSource,\n          referrerReferralCode: _this.state.referrerReferralCode,\n          referrerEmail: _this.state.referrerEmail,\n          referralCountTotal: _this.state.referralCountTotal,\n          postCountTotal: _this.state.postCountTotal,\n          shareURL: _this.state.shareURL,\n          twitterShareURL: _this.state.twitterShareURL,\n          facebookShareURL: _this.state.facebookShareURL,\n          whatsappShareURL: _this.state.whatsappShareURL\n        };\n        axios({\n          url: '/api/add',\n          method: 'POST',\n          data: payload\n        }).then(function () {\n          console.log('Data has been sent');\n\n          _this.reset();\n        }).catch(function (err) {\n          console.log(err);\n        });\n        cogoToast.success(\"Success!\");\n\n        _this.setOpen(true);\n      } else {\n        cogoToast.error(\"Error!\");\n\n        _this.setOpen(false);\n      }\n    };\n\n    _this.reset = function () {\n      _this.setState({\n        email: ''\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Add, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.generateReferral();\n    }\n  }, {\n    key: \"generateReferral\",\n    value: function generateReferral() {\n      var random = Math.random().toString(36).substr(2, 7); // let shareurl = 'https://www.jefa.io?referral=' + random + '&refSource=copy';\n\n      var shareurl = 'https://jefa.herokuapp.com/refer/' + random;\n      this.setState({\n        referralCode: random,\n        shareURL: shareurl\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }\n      }, \" Join the waitlist \"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"email\",\n        placeholder: \"email \",\n        value: this.state.email,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Submit, {\n        onClick: this.sendMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }\n      }, \"Submit\"), /*#__PURE__*/React.createElement(Recaptcha, {\n        ref: function ref(_ref2) {\n          return _this2.recaptcha = _ref2;\n        },\n        sitekey: \"6LccVtEZAAAAANBW-lRvMR3yTCkPbLrIKLztcAR1\",\n        onResolved: this.onResolved,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modalIsOpen,\n        onRequestClose: function onRequestClose() {\n          return _this2.setOpen(false);\n        },\n        style: modalStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }\n      }, \" Advance your position on the waiting list by inviting friends. \"), /*#__PURE__*/React.createElement(\"body\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 17\n        }\n      }, \" Earn $ 1 for each friend you invite. \"), /*#__PURE__*/React.createElement(\"body\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }\n      }, \" People in front of you \"), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      }, \" 3123 \"), /*#__PURE__*/React.createElement(\"a\", {\n        href: this.state.shareURL,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 17\n        }\n      }, \"Share your referral: \", this.state.shareURL, \"!\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.setOpen(false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }\n      }, \" Close \")), /*#__PURE__*/React.createElement(\"script\", {\n        src: \"https://www.google.com/recaptcha/api.js?render=6LccVtEZAAAAANBW-lRvMR3yTCkPbLrIKLztcAR1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 15\n        }\n      }));\n    }\n  }]);\n\n  return Add;\n}(Component);\nexport default Add;","map":{"version":3,"sources":["/Users/maiuranloganathan/DevelopProjects/jefa-game/client/src/components/Add.js"],"names":["React","Component","axios","styled","cogoToast","Modal","Recaptcha","Button","button","Form","form","FormTitle","h2","Container","div","Input","input","InputText","Extension","Ex","p","Base","h3","Submit","modalStyle","content","top","left","right","bottom","marginRight","transform","setAppElement","Add","state","email","rank","firstname","lastname","referralCode","referralSource","referrerReferralCode","referrerEmail","referralCountTotal","postCountTotal","shareURL","twitterShareURL","facebookShareURL","whatsappShareURL","modalIsOpen","messageSent","handleChange","target","name","value","setState","setOpen","param","sendMessage","recaptcha","execute","onResolved","console","log","handleSubmit","e","preventDefault","re","test","isHuman","payload","url","method","data","then","reset","catch","err","success","error","generateReferral","random","Math","toString","substr","shareurl","ref"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AAEA,OAAO,IAAMC,MAAM,GAAGJ,MAAM,CAACK,MAAV,mBAAZ;AAcP,IAAMC,IAAI,GAAGN,MAAM,CAACO,IAAV,oBAAV;AAKA,IAAMC,SAAS,GAAGR,MAAM,CAACS,EAAV,oBAAf;AAMA,IAAMC,SAAS,GAAGV,MAAM,CAACW,GAAV,oBAAf;AAMA,IAAMC,KAAK,GAAGZ,MAAM,CAACa,KAAV,oBAAX;AAaA,IAAMC,SAAS,GAAGd,MAAM,CAACa,KAAV,oBAAf;AAIA,IAAME,SAAS,GAAGf,MAAM,CAACW,GAAV,oBAAf;AAIA,IAAMK,EAAE,GAAGhB,MAAM,CAACiB,CAAV,oBAAR;AAKA,IAAMC,IAAI,GAAGlB,MAAM,CAACmB,EAAV,oBAAV;AAIA,IAAMC,MAAM,GAAGpB,MAAM,CAACK,MAAV,qBAAZ;AAcA,IAAMgB,UAAU,GAAG;AACjBC,EAAAA,OAAO,EAAG;AACRC,IAAAA,GAAG,EAAqB,KADhB;AAERC,IAAAA,IAAI,EAAoB,KAFhB;AAGRC,IAAAA,KAAK,EAAmB,MAHhB;AAIRC,IAAAA,MAAM,EAAkB,MAJhB;AAKRC,IAAAA,WAAW,EAAa,MALhB;AAMRC,IAAAA,SAAS,EAAe;AANhB;AADO,CAAnB;AAWA1B,KAAK,CAAC2B,aAAN,CAAoB,OAApB;AACA,WAAaC,GAAb;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UAEIC,KAFJ,GAEY;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,IAAI,EAAE,EAFF;AAGJC,MAAAA,SAAS,EAAE,EAHP;AAIJC,MAAAA,QAAQ,EAAE,EAJN;AAKJC,MAAAA,YAAY,EAAE,EALV;AAMJC,MAAAA,cAAc,EAAE,EANZ;AAOJC,MAAAA,oBAAoB,EAAE,EAPlB;AAQJC,MAAAA,aAAa,EAAE,EARX;AASJC,MAAAA,kBAAkB,EAAE,CAThB;AAUJC,MAAAA,cAAc,EAAE,CAVZ;AAWJC,MAAAA,QAAQ,EAAE,EAXN;AAYJC,MAAAA,eAAe,EAAE,EAZb;AAaJC,MAAAA,gBAAgB,EAAE,EAbd;AAcJC,MAAAA,gBAAgB,EAAE,EAdd;AAeJC,MAAAA,WAAW,EAAE,KAfT;AAgBJC,MAAAA,WAAW,EAAE;AAhBT,KAFZ;;AAAA,UAyBIC,YAzBJ,GAyBmB,gBAAgB;AAAA,UAAbC,MAAa,QAAbA,MAAa;AAAA,UACrBC,IADqB,GACLD,MADK,CACrBC,IADqB;AAAA,UACfC,KADe,GACLF,MADK,CACfE,KADe;;AAE7B,YAAKC,QAAL,qBACGF,IADH,EACUC,KADV;AAGD,KA9BL;;AAAA,UAgCIE,OAhCJ,GAgCc,UAACC,KAAD,EAAW;AACnB,YAAKF,QAAL,CAAc;AACVN,QAAAA,WAAW,EAAEQ;AADH,OAAd;AAGD,KApCL;;AAAA,UAkDIC,WAlDJ,GAkDkB,YAAM;AAClB,YAAKC,SAAL,CAAeC,OAAf;AACH,KApDH;;AAAA,UAsDEC,UAtDF,GAsDe,YAAM;AACf,YAAKN,QAAL,CAAc;AAACL,QAAAA,WAAW,EAAE;AAAd,OAAd,EADe,CAEf;;;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAK7B,KAAjB;AACH,KA1DH;;AAAA,UA4DI8B,YA5DJ,GA4DmB,UAACC,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AAGA,UAAIC,EAAE,GAAG,mDAAT;;AAEA,UAAIA,EAAE,CAACC,IAAH,CAAQ,MAAKlC,KAAL,CAAWC,KAAnB,KAA6B,MAAKD,KAAL,CAAWmC,OAA5C,EAAoD;AAChD,YAAMC,OAAO,GAAG;AACdnC,UAAAA,KAAK,EAAE,MAAKD,KAAL,CAAWC,KADJ;AAEdC,UAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWE,IAFH;AAGdC,UAAAA,SAAS,EAAE,MAAKH,KAAL,CAAWG,SAHR;AAIdC,UAAAA,QAAQ,EAAE,MAAKJ,KAAL,CAAWI,QAJP;AAKdC,UAAAA,YAAY,EAAE,MAAKL,KAAL,CAAWK,YALX;AAMdC,UAAAA,cAAc,EAAE,MAAKN,KAAL,CAAWM,cANb;AAOdC,UAAAA,oBAAoB,EAAE,MAAKP,KAAL,CAAWO,oBAPnB;AAQdC,UAAAA,aAAa,EAAE,MAAKR,KAAL,CAAWQ,aARZ;AASdC,UAAAA,kBAAkB,EAAE,MAAKT,KAAL,CAAWS,kBATjB;AAUdC,UAAAA,cAAc,EAAE,MAAKV,KAAL,CAAWU,cAVb;AAWdC,UAAAA,QAAQ,EAAE,MAAKX,KAAL,CAAWW,QAXP;AAYdC,UAAAA,eAAe,EAAE,MAAKZ,KAAL,CAAWY,eAZd;AAadC,UAAAA,gBAAgB,EAAE,MAAKb,KAAL,CAAWa,gBAbf;AAcdC,UAAAA,gBAAgB,EAAE,MAAKd,KAAL,CAAWc;AAdf,SAAhB;AAiBA9C,QAAAA,KAAK,CAAC;AACJqE,UAAAA,GAAG,EAAE,UADD;AAEJC,UAAAA,MAAM,EAAE,MAFJ;AAGJC,UAAAA,IAAI,EAAEH;AAHF,SAAD,CAAL,CAKCI,IALD,CAKM,YAAM;AACVZ,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;;AACA,gBAAKY,KAAL;AACD,SARD,EASCC,KATD,CASO,UAACC,GAAD,EAAS;AACdf,UAAAA,OAAO,CAACC,GAAR,CAAYc,GAAZ;AACD,SAXD;AAYAzE,QAAAA,SAAS,CAAC0E,OAAV,CAAkB,UAAlB;;AACA,cAAKtB,OAAL,CAAa,IAAb;AACD,OAhCH,MAgCS;AACLpD,QAAAA,SAAS,CAAC2E,KAAV,CAAgB,QAAhB;;AACA,cAAKvB,OAAL,CAAa,KAAb;AACD;AACJ,KAtGL;;AAAA,UAwGImB,KAxGJ,GAwGY,YAAM;AACV,YAAKpB,QAAL,CAAc;AACZpB,QAAAA,KAAK,EAAE;AADK,OAAd;AAGD,KA5GP;;AAAA;AAAA;;AAAA;AAAA;AAAA,wCAqBuB;AACjB,WAAK6C,gBAAL;AACD;AAvBL;AAAA;AAAA,uCAuCsB;AAChB,UAAIC,MAAM,GAAIC,IAAI,CAACD,MAAL,GAAcE,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAd,CADgB,CAEhB;;AACA,UAAIC,QAAQ,GAAG,sCAAsCJ,MAArD;AACA,WAAK1B,QAAL,CAAc;AACZhB,QAAAA,YAAY,EAAE0C,MADF;AAEZpC,QAAAA,QAAQ,EAAEwC;AAFE,OAAd;AAID;AA/CL;AAAA;AAAA,6BA8Ga;AAAA;;AAEL,0BACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAE,KAAKrB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,eAIA,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,WAAW,EAAC,QAHd;AAIE,QAAA,KAAK,EAAE,KAAK9B,KAAL,CAAWC,KAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKgB,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJA,eAWE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKO,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,eAYE,oBAAC,SAAD;AACI,QAAA,GAAG,EAAG,aAAA4B,KAAG;AAAA,iBAAI,MAAI,CAAC3B,SAAL,GAAiB2B,KAArB;AAAA,SADb;AAEI,QAAA,OAAO,EAAC,0CAFZ;AAGI,QAAA,UAAU,EAAG,KAAKzB,UAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,CAFF,eAwBE,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAK3B,KAAL,CAAWe,WAA1B;AAAuC,QAAA,cAAc,EAAE;AAAA,iBAAM,MAAI,CAACO,OAAL,CAAa,KAAb,CAAN;AAAA,SAAvD;AAAkF,QAAA,KAAK,EAAEhC,UAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAG,QAAA,IAAI,EAAE,KAAKU,KAAL,CAAWW,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAoD,KAAKX,KAAL,CAAWW,QAA/D,MALF,eAME;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACW,OAAL,CAAa,KAAb,CAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBANF,CAxBF,eAgCE;AAAQ,QAAA,GAAG,EAAC,yFAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhCF,CADJ;AAoCH;AApJL;;AAAA;AAAA,EAAyBvD,SAAzB;AAuJA,eAAegC,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport cogoToast from 'cogo-toast';\nimport Modal from 'react-modal';\nimport Recaptcha from 'react-google-invisible-recaptcha';\n\nexport const Button = styled.button`\n  /* display: inline-block; */\n  border-radius: 3px;\n  padding: 0.5rem 5px;\n  margin: 0.5rem 1rem;\n  width: fit-content;\n  background: #2d3142;\n  color: black;\n  border: 1px solid black;\n  position: relative;\n  /* right: -250px; */\n  float: left;\n`\n\nconst Form = styled.form`\n  padding: 10px;\n  float:  center;\n`\n\nconst FormTitle = styled.h2`\n  padding: 10px;\n  padding-left: 35%; \n  margin: 0 auto;\n`\n\nconst Container = styled.div`\n    margin: 0;\n    padding: 0;\n  margin: 0 auto;\n`\n\nconst Input = styled.input`\n  /* width: 100%; */\n  border-radius: 5px;\n  padding: 8px 10px;\n  margin: 8px 0px;\n  width: 40%;\n  margin-left: 26%;\n  /* box-sizing: border-box; */\n  &:focus{\n    background-color: white;\n  }\n`\n\nconst InputText = styled.input`\n  text-align: center;\n`\n\nconst Extension = styled.div`\n  text-align: center;\n`\n\nconst Ex = styled.p`\n  font-size: 16px;\n  font-weight: 200;\n`\n\nconst Base = styled.h3`\n  font-weight: 300;\n`\n\nconst Submit = styled.button`\n  font-weight: 200;\n  font-size: 15px;\n  border-radius: 6px;\n  padding: 0.5rem 5px;\n  margin: 0.5rem 1rem;\n  width: fit-content;\n  background: white;\n  color: black;\n  /* border: 1px solid black; */\n  position: relative;\n\n`\n\nconst modalStyle = {\n  content : {\n    top                   : '50%',\n    left                  : '50%',\n    right                 : 'auto',\n    bottom                : 'auto',\n    marginRight           : '-50%',\n    transform             : 'translate(-50%, -50%)'\n  }\n};\n\nModal.setAppElement('#root')\nexport class Add extends Component {\n\n    state = {\n        email: '',\n        rank: '',\n        firstname: '',\n        lastname: '',\n        referralCode: '',\n        referralSource: '',\n        referrerReferralCode: '',\n        referrerEmail: '',\n        referralCountTotal: 0,\n        postCountTotal: 0,\n        shareURL: '',\n        twitterShareURL: '',\n        facebookShareURL: '',\n        whatsappShareURL: '',\n        modalIsOpen: false,\n        messageSent: false\n      }\n    \n    componentDidMount(){\n      this.generateReferral();\n    }\n  \n    handleChange = ({ target }) => {\n      const { name, value } = target; \n      this.setState({\n        [name]: value\n      })\n    }\n\n    setOpen = (param) => {\n      this.setState({\n          modalIsOpen: param\n      })\n    }\n\n\n    generateReferral(){\n      let random =  Math.random().toString(36).substr(2, 7);\n      // let shareurl = 'https://www.jefa.io?referral=' + random + '&refSource=copy';\n      let shareurl = 'https://jefa.herokuapp.com/refer/' + random;\n      this.setState({\n        referralCode: random,\n        shareURL: shareurl\n      });\n    }\n\n\n    sendMessage = () => {\n      this.recaptcha.execute();\n  }\n\n  onResolved = () => {\n      this.setState({messageSent: true})\n      // Process Data //\n      console.log(this.state);\n  }\n\n    handleSubmit = (e) => {\n      e.preventDefault();\n      \n\n      let re = /^[ ]*([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})[ ]*$/i;\n\n      if (re.test(this.state.email) && this.state.isHuman){\n          const payload = {\n            email: this.state.email,\n            rank: this.state.rank,\n            firstname: this.state.firstname,\n            lastname: this.state.lastname,\n            referralCode: this.state.referralCode,\n            referralSource: this.state.referralSource,\n            referrerReferralCode: this.state.referrerReferralCode,\n            referrerEmail: this.state.referrerEmail,\n            referralCountTotal: this.state.referralCountTotal,\n            postCountTotal: this.state.postCountTotal,\n            shareURL: this.state.shareURL,\n            twitterShareURL: this.state.twitterShareURL,\n            facebookShareURL: this.state.facebookShareURL,\n            whatsappShareURL: this.state.whatsappShareURL,\n          };\n      \n          axios({\n            url: '/api/add',\n            method: 'POST',\n            data: payload\n          }) \n          .then(() => {\n            console.log('Data has been sent')\n            this.reset();\n          })\n          .catch((err) => {\n            console.log(err)\n          })\n          cogoToast.success(\"Success!\");\n          this.setOpen(true);\n        } else {\n          cogoToast.error(\"Error!\");\n          this.setOpen(false);\n        }\n    }\n\n    reset = () => {\n        this.setState({\n          email: '',\n        })\n      }\n\n    render() {\n      \n        return(\n            <Container>\n              \n              <Form onSubmit={this.handleSubmit}>\n              <FormTitle> Join the waitlist </FormTitle>\n              <br/>\n\n              <Input \n                type=\"text\"\n                name=\"email\"\n                placeholder=\"email \"\n                value={this.state.email}\n                onChange={this.handleChange}/>\n      \n                <Submit onClick={this.sendMessage}>Submit</Submit>\n                <Recaptcha\n                    ref={ ref => this.recaptcha = ref }\n                    sitekey=\"6LccVtEZAAAAANBW-lRvMR3yTCkPbLrIKLztcAR1\"\n                    onResolved={ this.onResolved }\n                />\n\n{/* this.setOpen(true); */}\n              </Form>\n\n\n              <Modal isOpen={this.state.modalIsOpen} onRequestClose={() => this.setOpen(false)} style={modalStyle}>\n                <h2> Advance your position on the waiting list by inviting friends. </h2>\n                <body> Earn $ 1 for each friend you invite. </body>\n                <body> People in front of you </body>\n                <h2> 3123 </h2>\n                <a href={this.state.shareURL}>Share your referral: {this.state.shareURL}!</a>\n                <button onClick={() => this.setOpen(false)}> Close </button>\n              </Modal>\n              <script src=\"https://www.google.com/recaptcha/api.js?render=6LccVtEZAAAAANBW-lRvMR3yTCkPbLrIKLztcAR1\"></script>\n            </Container>\n          );\n    }\n}\n\nexport default Add\n"]},"metadata":{},"sourceType":"module"}